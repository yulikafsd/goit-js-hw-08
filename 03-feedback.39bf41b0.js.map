{"mappings":"gfAAA,IAUIA,EAcMC,EAAOC,EAxBjBC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,QAASF,SAASC,cAAc,SAChCE,WAAYH,SAASC,cAAc,aAG7BG,EAA8BN,EAA9BC,KAAMM,EAAwBP,EAAxBI,QAASI,EAAeR,EAAfK,WAIvB,IACEV,EAAec,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2B,E,CAC1E,MAAOC,GACPC,QAAQC,IAAIF,EAAMG,MAClBF,QAAQC,IAAIF,EAAMhB,Q,CAGpBoB,OAAOC,QAKGtB,EAAmBD,EAAnBC,MAAOC,EAAYF,EAAZE,QAEfU,EAAQY,MAAQvB,GAAS,QACzBY,EAAWW,MAAQtB,GAAW,KAPhCS,EAAKc,iBAAiB,SAAS,EAAAtB,EAAAuB,WAU/B,WACE1B,EAAaC,MAAQW,EAAQY,MAC7BxB,EAAaE,QAAUW,EAAWW,MAElCR,aAAaW,QAAQ,sBAAuBb,KAAKc,UAAU5B,G,GAdZ,MACjDW,EAAKc,iBAAiB,UAgBtB,SAAkBI,GAChBA,EAAEC,iBACFX,QAAQC,IAAIpB,GACZ6B,EAAEE,OAAOC,QACThB,aAAaiB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  inputEl: document.querySelector('input'),\n  textareaEl: document.querySelector('textarea'),\n};\n\nconst { form, inputEl, textareaEl } = refs;\n\nlet feedbackForm;\n\ntry {\n  feedbackForm = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n} catch (error) {\n  console.log(error.name);\n  console.log(error.message);\n}\n\nwindow.onload = onLoad();\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nfunction onLoad() {\n  const { email, message } = feedbackForm;\n\n  inputEl.value = email || '';\n  textareaEl.value = message || '';\n}\n\nfunction onInput() {\n  feedbackForm.email = inputEl.value;\n  feedbackForm.message = textareaEl.value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackForm));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(feedbackForm);\n  e.target.reset();\n  localStorage.clear();\n}\n\n// if (email === undefined && message === undefined) {\n//   return;\n// } else if (email === undefined) {\n//   textareaEl.value = message;\n// } else if (message === undefined) {\n//   inputEl.value = email;\n// } else {\n//   textareaEl.value = message;\n//   inputEl.value = email;\n// }\n"],"names":["$b00c40859be242c5$var$feedbackForm","email","message","$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","inputEl","textareaEl","$b00c40859be242c5$var$form","$b00c40859be242c5$var$inputEl","$b00c40859be242c5$var$textareaEl","JSON","parse","localStorage","getItem","error","console","log","name","window","onload","value","addEventListener","throttle","setItem","stringify","e","preventDefault","target","reset","clear"],"version":3,"file":"03-feedback.39bf41b0.js.map"}