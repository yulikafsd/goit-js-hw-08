{"mappings":"gfAAA,IAUIA,EAVJC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,QAASF,SAASC,cAAc,SAChCE,WAAYH,SAASC,cAAc,aAG7BG,EAA8BN,EAA9BC,KAAMM,EAAwBP,EAAxBI,QAASI,EAAeR,EAAfK,WAIvB,IACER,EAAeY,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2B,E,CAC1E,MAAOC,GACPC,QAAQC,IAAIF,EAAMG,MAClBF,QAAQC,IAAIF,EAAMI,Q,CAGpBC,OAAOC,OAIP,WACE,IAAQC,EAAmBvB,EAAnBuB,MAAOH,EAAYpB,EAAZoB,QACf,QAAcI,IAAVD,QAAmCC,IAAZJ,EACzB,YACmBI,IAAVD,GACTZ,EAAWc,MAAQL,EACnBH,QAAQC,IAAIE,SACSI,IAAZJ,GACTV,EAAQe,MAAQF,EAChBN,QAAQC,IAAIK,KAEZZ,EAAWc,MAAQL,EACnBV,EAAQe,MAAQF,E,CAhBJG,GAChBjB,EAAKkB,iBAAiB,SAAS,EAAA1B,EAAA2B,WAmB/B,WACE5B,EAAauB,MAAQb,EAAQe,MAC7BzB,EAAaoB,QAAUT,EAAWc,MAElCX,aAAae,QAAQ,sBAAuBjB,KAAKkB,UAAU9B,G,GAvBZ,MACjDS,EAAKkB,iBAAiB,UAyBtB,SAAkBI,GAChBA,EAAEC,iBACFf,QAAQC,IAAIlB,GACZU,EAAQe,MAAQ,GAChBd,EAAWc,MAAQ,GACnBX,aAAamB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  inputEl: document.querySelector('input'),\n  textareaEl: document.querySelector('textarea'),\n};\n\nconst { form, inputEl, textareaEl } = refs;\n\nlet feedbackForm;\n\ntry {\n  feedbackForm = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n} catch (error) {\n  console.log(error.name);\n  console.log(error.message);\n}\n\nwindow.onload = onLoad();\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nfunction onLoad() {\n  const { email, message } = feedbackForm;\n  if (email === undefined && message === undefined) {\n    return;\n  } else if (email === undefined) {\n    textareaEl.value = message;\n    console.log(message);\n  } else if (message === undefined) {\n    inputEl.value = email;\n    console.log(email);\n  } else {\n    textareaEl.value = message;\n    inputEl.value = email;\n  }\n}\n\nfunction onInput() {\n  feedbackForm.email = inputEl.value;\n  feedbackForm.message = textareaEl.value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackForm));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(feedbackForm);\n  inputEl.value = '';\n  textareaEl.value = '';\n  localStorage.clear();\n}\n"],"names":["$b00c40859be242c5$var$feedbackForm","$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","inputEl","textareaEl","$b00c40859be242c5$var$form","$b00c40859be242c5$var$inputEl","$b00c40859be242c5$var$textareaEl","JSON","parse","localStorage","getItem","error","console","log","name","message","window","onload","email","undefined","value","$b00c40859be242c5$var$onLoad","addEventListener","throttle","setItem","stringify","e","preventDefault","clear"],"version":3,"file":"03-feedback.605a6cb9.js.map"}