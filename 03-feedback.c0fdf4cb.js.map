{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,QAASF,SAASC,cAAc,SAChCE,WAAYH,SAASC,cAAc,cAG/BF,KAAEK,EAAIF,QAAEG,EAAOF,WAAEG,GAAeR,EAEtC,IAAIS,EAEJ,IACEA,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2B,E,CAC1E,MAAOC,GACPC,QAAQC,IAAIF,EAAMG,MAClBF,QAAQC,IAAIF,EAAMI,Q,CAGpBC,OAAOC,OAIP,WACE,MAAMC,MAAEA,EAAKH,QAAEA,GAAYT,EAE3BF,EAAQe,MAAQD,GAAS,GACzBb,EAAWc,MAAQJ,GAAW,E,CARhBK,GAChBjB,EAAKkB,iBAAiB,SAAS,EAAA1B,EAAA2B,WAU/B,WACEhB,EAAaY,MAAQd,EAAQe,MAC7Bb,EAAaS,QAAUV,EAAWc,MAElCV,aAAac,QAAQ,sBAAuBhB,KAAKiB,UAAUlB,G,GAdZ,MACjDH,EAAKkB,iBAAiB,UAgBtB,SAAkBI,GAChBA,EAAEC,iBACFd,QAAQC,IAAIP,GACZmB,EAAEE,OAAOC,QACTnB,aAAaoB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  inputEl: document.querySelector('input'),\n  textareaEl: document.querySelector('textarea'),\n};\n\nconst { form, inputEl, textareaEl } = refs;\n\nlet feedbackForm;\n\ntry {\n  feedbackForm = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n} catch (error) {\n  console.log(error.name);\n  console.log(error.message);\n}\n\nwindow.onload = onLoad();\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nfunction onLoad() {\n  const { email, message } = feedbackForm;\n\n  inputEl.value = email || '';\n  textareaEl.value = message || '';\n}\n\nfunction onInput() {\n  feedbackForm.email = inputEl.value;\n  feedbackForm.message = textareaEl.value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackForm));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(feedbackForm);\n  e.target.reset();\n  localStorage.clear();\n}\n\n// if (email === undefined && message === undefined) {\n//   return;\n// } else if (email === undefined) {\n//   textareaEl.value = message;\n// } else if (message === undefined) {\n//   inputEl.value = email;\n// } else {\n//   textareaEl.value = message;\n//   inputEl.value = email;\n// }\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","inputEl","textareaEl","$945622fd0f572e60$var$form","$945622fd0f572e60$var$inputEl","$945622fd0f572e60$var$textareaEl","$945622fd0f572e60$var$feedbackForm","JSON","parse","localStorage","getItem","error","console","log","name","message","window","onload","email","value","$945622fd0f572e60$var$onLoad","addEventListener","throttle","setItem","stringify","e","preventDefault","target","reset","clear"],"version":3,"file":"03-feedback.c0fdf4cb.js.map"}