{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,QAASF,SAASC,cAAc,SAChCE,WAAYH,SAASC,cAAc,cAG/BF,KAAEK,EAAIF,QAAEG,EAAOF,WAAEG,GAAeR,EAEtC,IAAIS,EAEJ,IACEA,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2B,E,CAC1E,MAAOC,GACPC,QAAQC,IAAIF,EAAMG,MAClBF,QAAQC,IAAIF,EAAMI,Q,CAGpBC,OAAOC,OAIP,WACE,MAAMC,MAAEA,EAAKH,QAAEA,GAAYT,EAC3B,QAAca,IAAVD,QAAmCC,IAAZJ,EACzB,YACmBI,IAAVD,GACTb,EAAWe,MAAQL,EACnBH,QAAQC,IAAIE,SACSI,IAAZJ,GACTX,EAAQgB,MAAQF,EAChBN,QAAQC,IAAIK,KAEZb,EAAWe,MAAQL,EACnBX,EAAQgB,MAAQF,E,CAhBJG,GAChBlB,EAAKmB,iBAAiB,SAAS,EAAA3B,EAAA4B,WAmB/B,WACEjB,EAAaY,MAAQd,EAAQgB,MAC7Bd,EAAaS,QAAUV,EAAWe,MAElCX,aAAae,QAAQ,sBAAuBjB,KAAKkB,UAAUnB,G,GAvBZ,MACjDH,EAAKmB,iBAAiB,UAyBtB,SAAkBI,GAChBA,EAAEC,iBACFf,QAAQC,IAAIP,GACZF,EAAQgB,MAAQ,GAChBf,EAAWe,MAAQ,GACnBX,aAAamB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  inputEl: document.querySelector('input'),\n  textareaEl: document.querySelector('textarea'),\n};\n\nconst { form, inputEl, textareaEl } = refs;\n\nlet feedbackForm;\n\ntry {\n  feedbackForm = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n} catch (error) {\n  console.log(error.name);\n  console.log(error.message);\n}\n\nwindow.onload = onLoad();\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nfunction onLoad() {\n  const { email, message } = feedbackForm;\n  if (email === undefined && message === undefined) {\n    return;\n  } else if (email === undefined) {\n    textareaEl.value = message;\n    console.log(message);\n  } else if (message === undefined) {\n    inputEl.value = email;\n    console.log(email);\n  } else {\n    textareaEl.value = message;\n    inputEl.value = email;\n  }\n}\n\nfunction onInput() {\n  feedbackForm.email = inputEl.value;\n  feedbackForm.message = textareaEl.value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackForm));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(feedbackForm);\n  inputEl.value = '';\n  textareaEl.value = '';\n  localStorage.clear();\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","inputEl","textareaEl","$945622fd0f572e60$var$form","$945622fd0f572e60$var$inputEl","$945622fd0f572e60$var$textareaEl","$945622fd0f572e60$var$feedbackForm","JSON","parse","localStorage","getItem","error","console","log","name","message","window","onload","email","undefined","value","$945622fd0f572e60$var$onLoad","addEventListener","throttle","setItem","stringify","e","preventDefault","clear"],"version":3,"file":"03-feedback.6a9070a7.js.map"}